## 字符编码：ASCII，Unicode 和 UTF-8

## ascii

ASCII 码一共规定了128个字符的编码（包括32个不能打印出来的控制符号

只占用了一个字节的后面7位，最前面的一位统一规定为0

## 非 ASCII 编码

虽然都是用多个字节表示一个符号，但是GB类的汉字编码与 Unicode 和 UTF-8 是毫无关系的。

## Unicode

Unicode 只是一个符号集，它只规定了符号的二进制代码，却没有规定这个二进制代码应该如何存储。

两个严重的问题

1. 第一个问题是，如何才能区别 Unicode 和 ASCII ？计算机怎么知道三个字节表示一个符号，而不是分别表示三个符号呢？

2. 英文字母只用一个字节表示就够了，如果 Unicode 统一规定，每个符号用三个或四个字节表示，那么每个英文字母前都必然有二到三个字节是0，这对于存储来说是极大的浪费 

- 造成的结果: 出现了 Unicode 的多种存储方式，也就是说有许多种不同的二进制格式，可以用来表示 Unicode

## UTF-8

UTF-8 是 Unicode 的实现方式之一。

UTF-8 最大的一个特点，就是它是一种变长的编码方式。它可以使用1~4个字节表示一个符号，根据不同的符号而变化字节长度。

- 规则

1. 对于单字节的符号，字节的第一位设为0，后面7位为这个符号的 Unicode 码。因此对于英语字母，UTF-8 编码和 ASCII 码是相同的。

2. 对于n字节的符号（n > 1），第一个字节的前n位都设为1，第n + 1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码。

```
Unicode符号范围     |        UTF-8编码方式
(十六进制)        |              （二进制）
----------------------+---------------------------------------------
0000 0000-0000 007F | 0xxxxxxx
0000 0080-0000 07FF | 110xxxxx 10xxxxxx
0000 0800-0000 FFFF | 1110xxxx 10xxxxxx 10xxxxxx
0001 0000-0010 FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
```

解读 :

1. 如果一个字节的第一位是0，则这个字节单独就是一个字符

2. 如果第一位是1，则连续有多少个1，就表示当前字符占用多少个字节。

## Unicode 与 UTF-8 之间的转换

## Little endian 和 Big endian

如果一个文本文件的头两个字节是FE FF，就表示该文件采用大头方式

## 数码点（code point）

统一字符集（Universal Coded Character Set, UCS）

每个字符映射至一个整数码点（code point），码点的范围是 0 至 0x10FFFF，码点又通常记作 U+XXXX，当中 XXXX 为 16 进位数字